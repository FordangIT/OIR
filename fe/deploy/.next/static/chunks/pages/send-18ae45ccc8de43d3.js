(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[434],{1426:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/send",function(){return t(5563)}])},5563:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return l}});var i=t(5893),r=t(7294);function s(e){let{type:n,id:t,name:r,value:s,onChange:a,placeholder:c,required:o,className:l}=e;return(0,i.jsx)("input",{type:n,id:t,name:r,value:s,onChange:a,placeholder:c,required:o,className:l})}var a=t(8767);async function c(e){let{recipientId:n,content:t}=e,i=await fetch("".concat("https://korea-hospital.site","/message/send"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipientId:n,content:t}),credentials:"include"}),r=await i.json();if(!r.success)throw Error("".concat(r.message));return r}function o(){let[e,n]=(0,r.useState)({recipient:"",content:""}),{mutate:t}=(0,a.useMutation)(e=>c(e),{onSuccess:()=>{alert("메시지가 성공적으로 전송되었습니다."),n({recipient:"",content:""})},onError:e=>{alert("메시지 전송에 실패했습니다: ".concat(e))}}),o=e=>{let{name:t,value:i}=e.target;n(e=>({...e,[t]:i}))};return(0,i.jsx)("div",{className:"w-full h-96 border-2 bg-main-green p-3",children:(0,i.jsxs)("form",{onSubmit:n=>{n.preventDefault(),t({recipientId:e.recipient,content:e.content})},className:"flex flex-col h-full",children:[(0,i.jsx)(s,{type:"text",id:"recipient",name:"recipient",value:e.recipient,onChange:o,placeholder:"받는 사람 ID",required:!0,className:"h-10 outline-none p-2"}),(0,i.jsx)("textarea",{id:"content",name:"content",value:e.content,onChange:o,placeholder:"당신의 진심을 전해보세요",required:!0,className:"h-full outline-none p-1 font-lg"}),(0,i.jsx)("div",{className:"flex justify-end items-center mt-3 h-10",children:(0,i.jsx)("button",{type:"submit",className:"w-fit px-3 rounded-xl bg-main-orange text-white py-2 font-semibold text-xs",children:"전송"})})]})})}function l(){return(0,i.jsx)("div",{className:"row-position h-full w-full",children:(0,i.jsx)(o,{})})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=1426)}),_N_E=e.O()}]);