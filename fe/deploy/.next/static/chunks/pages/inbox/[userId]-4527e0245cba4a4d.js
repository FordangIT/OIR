(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[965],{5428:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/inbox/[userId]",function(){return n(788)}])},788:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var s=n(5893),r=t=>t.length<20?t:t.slice(0,20)+"...";async function a(t){let e=await fetch("".concat("https://korea-hospital.site","/inbox/").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}}),n=await e.json();if(!n.success)throw Error(n.message);return n}var c=n(8767),i=n(1163);function o(){let{userId:t}=(0,i.useRouter)().query,{data:e,error:n,isLoading:o,isError:u}=(0,c.useQuery)(["userMessages"],()=>a(t),{enabled:"string"==typeof t});if(o)return(0,s.jsx)("div",{children:"Loading..."});if(u||!(null==e?void 0:e.success))return(0,s.jsx)("div",{children:n instanceof Error?n.message:"메시지를 가져오는 중 오류가 발생했습니다. "});let l=e.data;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-black z-10 py-2",children:"받은 편지함 (".concat(l.length,")")}),(0,s.jsx)("div",{className:" w-full h-full overflow-y-auto ",children:l.map(t=>(0,s.jsxs)("div",{className:"w-full h-fit flex justify-between items-center text-justify hover:shadow-xl py-3 bg-tossback-gray mb-1",children:[(0,s.jsx)("div",{children:r(t.content)}),(0,s.jsx)("div",{children:function(t){let e=new Date(t),n=e.getFullYear(),s=String(e.getMonth()).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),c=String(e.getMinutes()).padStart(2,"0");return"".concat(n,"/").concat(s,"/").concat(r," ").concat(a,":").concat(c)}(t.sentAt)})]},t.messageId))})]})}function u(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o,{})})}}},function(t){t.O(0,[888,774,179],function(){return t(t.s=5428)}),_N_E=t.O()}]);