(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3700:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(8015)}])},8015:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var r=t(5893),n=t(5675),a=t.n(n),i=t(7294),o=t(1163),u=t(1664),l=t.n(u),c=t(8767);async function d(e){let{userid:s,password:t}=e,r=await fetch("".concat("https://korea-hospital.site","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:s,password:t}),credentials:"include"}),n=await r.json();if(!n.success)throw Error("".concat(n.message));return n}var h=t(5007),f=t(900);function p(){let[e,s]=(0,i.useState)({userid:"",password:""}),[t,n]=(0,i.useState)(""),a=(0,o.useRouter)(),u=(0,h.I0)(),p=(0,c.useMutation)(d,{onSuccess:e=>{u((0,f.I)(e.data)),a.push("/")},onError:e=>{e instanceof Error&&n(e.message),n("로그인에 실패했습니다. 다시 시도해 주세요")}}),m=e=>{let{name:t,value:r}=e.target;s(e=>({...e,[t]:r}))};return(0,r.jsx)("form",{onSubmit:s=>{if(s.preventDefault(),!e.userid||!e.password){n("아이디와 비밀번호 모두 작성해주세요");return}p.mutate(e)},className:"w-96 flex flex-col justify-center items-center",children:(0,r.jsxs)("div",{className:"",children:[(0,r.jsxs)("div",{className:"my-10 w-full",children:[(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"text",id:"userid",name:"userid",value:e.userid,onChange:m,placeholder:"아이디",required:!0,className:"w-full h-12 border-tossback-gray border-2 rounded-t-xl p-4 text-sm focus:outline-main-orange"})}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:m,placeholder:"비밀번호",required:!0,className:"w-full h-12 border-tossback-gray border-x-2 border-b-2 rounded-b-xl p-4 text-sm  focus:outline-main-orange"})}),t&&(0,r.jsx)("p",{className:"text-main-red text-sm p-2",children:t})]}),(0,r.jsx)("button",{type:"submit",className:"bg-main-green text-white font-semibold w-full h-12 rounded-lg",children:"로그인"}),(0,r.jsx)(l(),{href:"/signup",children:(0,r.jsx)("div",{className:"text-gray-500 text-xs p-3 text-center",children:"회원가입"})})]})})}function m(){return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center bg-white w-full h-full",children:[(0,r.jsx)(a(),{src:"/images/main_logo.png",alt:"oir 메인 로고",width:300,height:200}),(0,r.jsx)(p,{})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3700)}),_N_E=e.O()}]);